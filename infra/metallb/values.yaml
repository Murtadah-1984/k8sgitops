# MetalLB LoadBalancer Configuration
# Bitnami Helm Chart Values - L2 Mode

# IP Address Pool Configuration
# Control Plane IPs: 10.0.20.11, 10.0.20.12, 10.0.20.13
# Control Plane VIP: 10.0.20.10 (managed by keepalived)
# MetalLB pool avoids control plane IPs

# -------------------------------------------------------------------
# MetalLB L2 Mode - Corrected Bitnami Helm Values
# -------------------------------------------------------------------

# IP Address Pool - assigns LoadBalancer IPs
# Note: Address pools are managed via CRDs (IPAddressPool), not configInline
config:
  enabled: false  # important since we are using CRDs, not configInline

# Controller configuration
controller:
  replicaCount: 2
  image:
    repository: docker.io/bitnami/metallb-controller
    tag: "v0.15.2"
  resources:
    limits:
      cpu: 200m
      memory: 200Mi
    requests:
      cpu: 100m
      memory: 100Mi

# Speaker configuration
speaker:
  enabled: true
  image:
    repository: docker.io/bitnami/metallb-speaker
    tag: "v0.15.2"
  resources:
    limits:
      cpu: 200m
      memory: 200Mi
    requests:
      cpu: 100m
      memory: 100Mi
